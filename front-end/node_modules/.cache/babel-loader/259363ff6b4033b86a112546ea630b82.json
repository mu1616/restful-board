{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mu161\\\\IdeaProjects\\\\restful-board\\\\front-end\\\\src\\\\component\\\\user\\\\UserListComponent.jsx\";\nimport React, { Component } from 'react';\nimport ApiService from \"../../ApiService\";\n\nclass UserListComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reloadUserList = () => {\n      ApiService.fetchUsers().then(res => {\n        // = function(res) { ... }\n        this.setState({\n          users: res.data\n        });\n      }).catch(err => {\n        console.log('reloadUserList() Error !', err);\n      });\n    };\n\n    this.deleteUser = userId => {\n      ApiService.deleteUser(userId).then(res => {\n        this.setState({\n          message: 'User Deleted Successfully.'\n        });\n        this.setState({\n          // filter -> 특정 조건에 부합되는 원소들만 뽑아서 새 배열을 만들어줌\n          users: this.state.users.filter(user => user.id !== userId)\n        });\n      }).catch(err => {\n        console.log('deleteUser() Error!', err);\n      });\n    };\n\n    this.addUser = () => {\n      window.localStorage.removeItem(\"userId\");\n      this.props.history.push('/add-user'); //리다이렉트\n    };\n\n    this.state = {\n      users: [],\n      message: null\n    };\n  } //componentDidMount()는 컴포넌트가 마운트된 직후, 즉 트리에 삽입된 직후에 호출된다.\n\n\n  componentDidMount() {\n    this.reloadUserList();\n  } //state 에 있는 값을 바꾸기 위해서는, this.setState 를 무조건 거쳐야합니다. \n  //리액트에서는, 이 함수가 호출되면 컴포넌트가 리렌더링 되도록 설계되어있습니다.\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"User List\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.addUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Add User\"), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, \"SSN\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, this.state.users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n      key: user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, user.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, user.password), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }, user.ssn), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.deleteUser(user.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }\n    }, \"Delete\")))))));\n  }\n\n}\n\nexport default UserListComponent;","map":{"version":3,"sources":["C:/Users/mu161/IdeaProjects/restful-board/front-end/src/component/user/UserListComponent.jsx"],"names":["React","Component","ApiService","UserListComponent","constructor","props","reloadUserList","fetchUsers","then","res","setState","users","data","catch","err","console","log","deleteUser","userId","message","state","filter","user","id","addUser","window","localStorage","removeItem","history","push","componentDidMount","render","map","name","password","ssn"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;AAEA,MAAMC,iBAAN,SAAgCF,SAAhC,CAA0C;AACtCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgBnBC,cAhBmB,GAgBF,MAAM;AACnBJ,MAAAA,UAAU,CAACK,UAAX,GACKC,IADL,CACUC,GAAG,IAAI;AAAQ;AACjB,aAAKC,QAAL,CAAc;AACVC,UAAAA,KAAK,EAAGF,GAAG,CAACG;AADF,SAAd;AAGH,OALL,EAMKC,KANL,CAMWC,GAAG,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,GAAxC;AACH,OARL;AASH,KA1BkB;;AAAA,SA4BnBG,UA5BmB,GA4BLC,MAAD,IAAY;AACrBhB,MAAAA,UAAU,CAACe,UAAX,CAAsBC,MAAtB,EACKV,IADL,CACUC,GAAG,IAAI;AACT,aAAKC,QAAL,CAAc;AACVS,UAAAA,OAAO,EAAG;AADA,SAAd;AAGA,aAAKT,QAAL,CAAc;AAAS;AACnBC,UAAAA,KAAK,EAAG,KAAKS,KAAL,CAAWT,KAAX,CAAiBU,MAAjB,CAAwBC,IAAI,IAChCA,IAAI,CAACC,EAAL,KAAYL,MADR;AADE,SAAd;AAIH,OATL,EAUKL,KAVL,CAUWC,GAAG,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,GAAnC;AACH,OAZL;AAaH,KA1CkB;;AAAA,SA4CnBU,OA5CmB,GA4CT,MAAM;AACZC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,QAA/B;AACA,WAAKtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EAFY,CAE4B;AAC3C,KA/CkB;;AAGf,SAAKT,KAAL,GAAa;AACTT,MAAAA,KAAK,EAAG,EADC;AAETQ,MAAAA,OAAO,EAAG;AAFD,KAAb;AAIH,GARqC,CAUtC;;;AACAW,EAAAA,iBAAiB,GAAG;AAChB,SAAKxB,cAAL;AACH,GAbqC,CAetC;AACA;;;AAiCAyB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAQ,MAAA,OAAO,EAAE,KAAKP,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,CADJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKJ,KAAL,CAAWT,KAAX,CAAiBqB,GAAjB,CAAsBV,IAAI,iBACvB;AAAI,MAAA,GAAG,EAAIA,IAAI,CAACC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,IAAI,CAACC,EAAV,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,IAAI,CAACW,IAAV,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKX,IAAI,CAACY,QAAV,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKZ,IAAI,CAACa,GAAV,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAK,MAAM,KAAKlB,UAAL,CAAgBK,IAAI,CAACC,EAArB,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CALJ,CADH,CADL,CATJ,CAHJ,CADJ;AA6BH;;AA/EqC;;AAkF1C,eAAepB,iBAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport ApiService from \"../../ApiService\";\r\n\r\nclass UserListComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            users : [],\r\n            message : null\r\n        }\r\n    }\r\n\r\n    //componentDidMount()는 컴포넌트가 마운트된 직후, 즉 트리에 삽입된 직후에 호출된다.\r\n    componentDidMount() {\r\n        this.reloadUserList();\r\n    }\r\n\r\n    //state 에 있는 값을 바꾸기 위해서는, this.setState 를 무조건 거쳐야합니다. \r\n    //리액트에서는, 이 함수가 호출되면 컴포넌트가 리렌더링 되도록 설계되어있습니다.\r\n    reloadUserList = () => {\r\n        ApiService.fetchUsers()\r\n            .then(res => {       // = function(res) { ... }\r\n                this.setState({\r\n                    users : res.data\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log('reloadUserList() Error !', err);\r\n            })\r\n    }\r\n\r\n    deleteUser = (userId) => {\r\n        ApiService.deleteUser(userId)\r\n            .then(res => {\r\n                this.setState({\r\n                    message : 'User Deleted Successfully.'\r\n                });\r\n                this.setState({        // filter -> 특정 조건에 부합되는 원소들만 뽑아서 새 배열을 만들어줌\r\n                    users : this.state.users.filter(user =>\r\n                        user.id !== userId)\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log('deleteUser() Error!', err);\r\n            })\r\n    }\r\n\r\n    addUser = () => {\r\n        window.localStorage.removeItem(\"userId\");\r\n        this.props.history.push('/add-user');   //리다이렉트\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>User List</h2>\r\n                <button onClick={this.addUser}>Add User</button>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Name</th>\r\n                            <th>Password</th>\r\n                            <th>SSN</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.users.map( user =>\r\n                            <tr key = {user.id}>\r\n                                <td>{user.id}</td>\r\n                                <td>{user.name}</td>\r\n                                <td>{user.password}</td>\r\n                                <td>{user.ssn}</td>\r\n                                <td>\r\n                                    <button onClick = { () => this.deleteUser(user.id) }>Delete</button>\r\n                                </td>\r\n                            </tr>\r\n                            )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );      \r\n    }\r\n}\r\n\r\nexport default UserListComponent;\r\n"]},"metadata":{},"sourceType":"module"}